<!DOCTYPE html>
<html lang="en">

<head>
    <title>etude cas 2</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- import ajax jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- import Boostrap for simple front end -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body class="container">
    <h1>Welcome to Etude cas 2</h1>
    <p>Created by Nathan Oliveira Da Silva, LÃ©o Bernard, Valentin Borget, Alice Janela Cameijo</p>
    <h3 class="label" for="text-input">Enter a word or phrase:</h3>
    <div class="input-group">
        <input class="form-control" type="text" id="text-input" name="text-input" placeholder="a cute cat" required>
        <button id='button-single-image' class="btn btn-outline-secondary" type="button">Generate an image</button>
        <button id='button-multiple-images' class="btn btn-outline-secondary" type="button">Generate batch</button>
    </div>
    <div id="image-container" class="container">
    </div>
    </div>
</body>

</html>

<script>
    const buttonSingleImage = document.getElementById('button-single-image');
    const buttonMultipleImages = document.getElementById('button-multiple-images');

    buttonSingleImage.addEventListener('click', async () => {
        const textInput = document.getElementById('text-input')?.value;
        if (textInput === '') {
            alert('your text input must contain at least a word')
            throw new Error('your text input must contain at last a word')
        }

        const res = await fetch(`/single/${textInput}`)
        const data = await res.json();
        console.log(data)

        const container = document.getElementById('image-container');
        /*
        const img = document.createElement('img');
        img.src = data
        container.appendChild(img);
        */
    })

    buttonMultipleImages.addEventListener('click', async () => {
        const textInput = document.getElementById('text-input')?.value;
        if (textInput === '') {
            alert('your text input must contain at least a word')
            throw new Error('your text input must contain at last a word')
        }

        const res = await fetch(`/multiple/${textInput}`)
        const data = await res.json();
        console.log(data)
        
        const container = document.getElementById('image-container');

        /*
        data.forEach(image_path => {
            const img = document.createElement('img');
            img.src = image_path
            container.appendChild(img)
        });
        */
    })
</script>